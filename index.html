<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script src="./underscore.js"></script>
    <script src="./backbone.js"></script>
    <script src="./ros.js"></script>
    <script src="./std_msgs.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
/*
      ros.createNode({ name: 'chatter' }, function(error, node) {
        var talkTopic = new ros.Topic({ name: 'talk', type: stdMsgs.String.type })
        node.createPublisher({ topic: talkTopic }, function(error, publisher) {
          var message = new stdMsgs.String({ data: 'hello' })
          publisher.publish(message)
        })
      })
      */
      ros.io = io
      ros.createNode({ name: 'chatter' }, function(error, node) {
        var talkTopic = new ros.Topic({ name: 'talk', type: stdMsgs.String.type })
        node.createSubscriber({ topic: talkTopic }, function(error, subscriber) {
          subscriber.subscribe(function(error, message) {
            console.log('SUBSCRIBE RESPONSE')
            console.log('ERROR: ' + error)
            console.log('MESSAGE: ' + message)
            console.log('END SUBSCRIBE RESPONSE')
          })
        })
      })
    </script>
  </head>
  <body>
  </body>
</html>
